一、前言

二、谈谈MVVM和RAC
1、MVVM浅析
2、RAC浅浅析
3、本篇对两者的理解运用

二、框架部分
1、框架目录详解
2、基类详解
3、题外话

三、实战部分（经典列表的实现）
1、LSCircleListViewController的处理
2、View的处理
3、LSCircleListModel的处理
4、ViewModel的处理
5、APPDelegate的代码简化

四、后记

五、Demo已出

〇、更新

针对最后一小节中干掉基类的做法(Runtime + category)，已经有所实现，并按照自己的思路新写了个列表实现，具体可查看对于iOS架构模式之争的一些思考。

一、前言

很早之前就想写写自己在架构模式方面的心得，但是一直感觉自己是井底之蛙，毕竟在iOS领域越深入越感到自己的无知，心中有着敬畏之心，就更没有自信去写这个东西（你也可以理解是没时间(＞﹏＜)，请原谅我的装逼，嘿嘿）.
对于架构模式这个让人又爱又恨的玩意，说来其实简单，但一千个人眼中就有一千种哈姆雷特，说他千变万化确实是事实，而且当你深入其中的时候你真的会上瘾，并乐此不疲！
前几天自己写的一篇《iOS Xcode全面剖析》阅读量在短短一天内破千，还上了简书首页（你看这句话字体就知道不是广告了( ⊙o⊙ )），确实很开心，昨天又跟我一朋友用代码讲解了我对MVVM的理解及运用，此情此景下，脑袋一热搞出一篇来分享给大家也情有可原，当然更希望有更多的大神来指点一下，让我自己也让大家有提升就够了，万分感谢！
二、谈谈MVVM和RAC

1、MVVM浅析

到这里我就默认你看过MVVM相关文章（毕竟相关文章已经可以用满天飞来形容了(≧▽≦)/啦啦啦！），仅仅简要谈谈我对其的理解。
MVC是构建iOS App的标准模式，是苹果推荐的一个用来组织代码的权威范式，市面上大部分App都是这样构建的，具体组建模式不细说，iOS入门者都比较了解（虽然不一定能完全去遵守），但其几个不能避免的问题却是很严重困扰开发者比如厚重的ViewController、遗失的网络逻辑（没有属于它的位置）、较差的可测试性等因此也就会有维护性较强、耦合性很低的一种新架构MVVM (MVC 引申出得新的架构)的流行。

MVVM虽然来自微软，但是不应该反对它，它正式规范了正式规范了视图和控制器紧耦合的性质，如下图：


MVVM图示
ViewModel: 相比较于MVC新引入的视图模型。是视图显示逻辑、验证逻辑、网络请求等代码存放的地方，唯一要注意的是，任何视图本身的引用都不应该放在VM中，换句话说就是VM中不要引入UIKit.h (对于image这个，也有人将其看做数据来处理，这就看个人想法了，并不影响整体的架构)。

这样，首先解决了VC臃肿的问题，将逻辑代码、网络请求等都写入了VM中，然后又由于VM中包含了所有的展示逻辑而且不会引用V，所以它是可以通过编程充分测试的。

so，就是这个样子的，6666！

2、RAC浅浅析

特别浅。。。本文重点是框架及实战及MVVM思想，RAC这玩意话说学习曲线较长，难以理解，不好上手，是因为之前学习的时候使用者、中文教程还比较少，所以学习运用起来比较费劲，(当时确实废了好大得劲，实力装逼一把 @%&$%& )但现在已经成熟的烂大街了，只要有心，好的教程一大把，能潜下心来看我写的水文的人，拿下RAC不在话下！
ReactiveCocoa 可以说是结合了函数式编程和响应式编程的框架，也可称其为函数响应式编程（FRP）框架，强调一点，RAC虽然最大的优点是提供了一个单一的、统一的方法去处理异步的行为，包括delegate方法,blocks回调,target-action机制,notifications和KVO.但是不要简单的只是单纯的认为他仅仅就是减少代码复杂度，更好的配合MVVM而已，小伙子，这样你就小看它了。

它最大的与众不同是提供了一种新的写代码的思维，由于RAC将Cocoa中KVO、UIKit event、delegate、selector等都增加了RAC支持，所以都不用去做很多跨函数的事。

如果全工程都使用RAC来实现，对于同一个业务逻辑终于可以在同一块代码里完成了，将UI事件，逻辑处理，文件或数据库操作，异步网络请求，UI结果显示，这一大套统统用函数式编程的思路嵌套起来，进入页面时搭建好这所有的关系，用户点击后妥妥的等着这一套联系一个个的按期望的逻辑和次序触发，最后显示给用户。

额，就说这么多，再说就没头了(≧▽≦)/啦啦啦!

